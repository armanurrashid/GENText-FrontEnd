{"ast":null,"code":"import { createPopper } from '@popperjs/core';\nimport { getElementChild, getElementParents, getAttributeValueByBreakpoint, getUniqueIdWithPrefix, DataUtil, ElementStyleUtil, EventHandlerUtil, insertAfterElement, slideUp, slideDown, DOMEventHandlerUtil, throttle, getHighestZindex } from '../_utils/index';\nconst defaultMenuOptions = {\n  dropdown: {\n    hoverTimeout: 200,\n    zindex: 105\n  },\n  accordion: {\n    slideSpeed: 250,\n    expand: false\n  }\n};\nclass MenuComponent {\n  constructor(_element2, options) {\n    this.element = void 0;\n    this.options = void 0;\n    this.instanceUid = void 0;\n    this.triggerElement = null;\n    // Set external trigger element\n    this._setTriggerElement = () => {\n      const target = document.querySelector(`[data-kt-menu-target=\"#${this.element.getAttribute('id')}\"`);\n      if (target) {\n        this.triggerElement = target;\n      } else if (this.element.closest('[data-kt-menu-trigger]')) {\n        this.triggerElement = this.element.closest('[data-kt-menu-trigger]');\n      } else if (this.element.parentNode && getElementChild(this.element.parentNode, '[data-kt-menu-trigger]')) {\n        const child = getElementChild(this.element.parentNode, '[data-kt-menu-trigger]');\n        if (child) {\n          this.triggerElement = child;\n        }\n      }\n      if (this.triggerElement) {\n        DataUtil.set(this.triggerElement, 'menu', this);\n      }\n    };\n    // Test if menu has external trigger element\n    this._isTriggerElement = item => {\n      return this.triggerElement === item;\n    };\n    // Get item option(through html attributes)\n    this._getItemOption = (item, name) => {\n      let value = null;\n      if (item && item.hasAttribute('data-kt-menu-' + name)) {\n        const attr = item.getAttribute('data-kt-menu-' + name) || '';\n        value = getAttributeValueByBreakpoint(attr);\n        if (value !== null && String(value) === 'true') {\n          value = true;\n        } else if (value !== null && String(value) === 'false') {\n          value = false;\n        }\n      }\n      return value;\n    };\n    // Get item element\n    this._getItemElement = _element => {\n      // Element is the external trigger element\n      if (this._isTriggerElement(_element)) {\n        return _element;\n      }\n\n      // Element has item toggler attribute\n      if (_element.hasAttribute('data-kt-menu-trigger')) {\n        return _element;\n      }\n\n      // Element has item DOM reference in it's data storage\n      const itemElement = DataUtil.get(_element, 'item');\n      if (itemElement) {\n        return itemElement;\n      }\n\n      // Item is parent of element\n      const item = _element.closest('.menu-item[data-kt-menu-trigger]');\n      if (item) {\n        return item;\n      }\n\n      // Element's parent has item DOM reference in it's data storage\n      const sub = _element.closest('.menu-sub');\n      if (sub) {\n        const subItem = DataUtil.get(sub, 'item');\n        if (subItem) {\n          return subItem;\n        }\n      }\n    };\n    // Get item parent element\n    this._getItemParentElement = item => {\n      const sub = item.closest('.menu-sub');\n      if (!sub) {\n        return null;\n      }\n      const subItem = DataUtil.get(sub, 'item');\n      if (subItem) {\n        return subItem;\n      }\n      const parentItem = sub.closest('.menu-item[data-kt-menu-trigger]');\n      if (sub && parentItem) {\n        return parentItem;\n      }\n      return null;\n    };\n    // Get item parent elements\n    this._getItemParentElements = item => {\n      const parents = [];\n      let parent;\n      let i = 0;\n      let buffer = item;\n      do {\n        parent = this._getItemParentElement(buffer);\n        if (parent) {\n          parents.push(parent);\n          buffer = parent;\n        }\n        i++;\n      } while (parent !== null && i < 20);\n      if (this.triggerElement) {\n        parents.unshift(this.triggerElement);\n      }\n      return parents;\n    };\n    // Prepare popper config for dropdown(see: https://popper.js.org/docs/v2/)\n    this._getDropdownPopperConfig = item => {\n      // Placement\n      const placementOption = this._getItemOption(item, 'placement');\n      let placement = 'right';\n      if (placementOption) {\n        placement = placementOption;\n      }\n\n      // Flip\n      // const flipValue = this._getItemOption(item, 'flip')\n      // const flip = flipValue ? flipValue.toString().split(',') : []\n\n      // Offset\n      const offsetValue = this._getItemOption(item, 'offset');\n      const offset = offsetValue ? offsetValue.toString().split(',') : [];\n\n      // Strategy\n      const strategy = this._getItemOption(item, 'overflow') === true ? 'absolute' : 'fixed';\n      return {\n        placement: placement,\n        strategy: strategy,\n        modifiers: [{\n          name: 'offset',\n          options: {\n            offset: offset\n          }\n        }, {\n          name: 'preventOverflow'\n        }, {\n          name: 'flip',\n          options: {\n            // altBoundary: true,\n            // fallbackPlacements: flip,\n            flipVariations: false\n          }\n        }]\n      };\n    };\n    // Get item child element\n    this._getItemChildElement = item => {\n      let selector = item;\n      const subItem = DataUtil.get(item, 'sub');\n      if (subItem) {\n        selector = subItem;\n      }\n      if (selector) {\n        //element = selector.querySelector('.show.menu-item[data-kt-menu-trigger]');\n        const element = selector.querySelector('.menu-item[data-kt-menu-trigger]');\n        if (element) {\n          return element;\n        }\n      }\n      return null;\n    };\n    // Get item child elements\n    this._getItemChildElements = item => {\n      const children = [];\n      let child;\n      let i = 0;\n      let buffer = item;\n      do {\n        child = this._getItemChildElement(buffer);\n        if (child) {\n          children.push(child);\n          buffer = child;\n        }\n        i++;\n      } while (child !== null && i < 20);\n      return children;\n    };\n    // Get item sub element\n    this._getItemSubElement = item => {\n      if (!item) {\n        return null;\n      }\n      if (this._isTriggerElement(item)) {\n        return this.element;\n      }\n      if (item.classList.contains('menu-sub')) {\n        return item;\n      } else if (DataUtil.has(item, 'sub')) {\n        const itemSub = DataUtil.get(item, 'sub');\n        return itemSub ? itemSub : null;\n      } else {\n        return getElementChild(item, '.menu-sub');\n      }\n    };\n    this._getCss = (el, styleProp) => {\n      const defaultView = (el.ownerDocument || document).defaultView;\n      if (!defaultView) {\n        return '';\n      }\n\n      // sanitize property name to css notation\n      // (hyphen separated words eg. font-Size)\n      styleProp = styleProp.replace(/([A-Z])/g, '-$1').toLowerCase();\n      return defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);\n    };\n    // Get item sub type\n    this._getItemSubType = element => {\n      const sub = this._getItemSubElement(element);\n      if (sub && parseInt(this._getCss(sub, 'z-index')) > 0) {\n        return 'dropdown';\n      } else {\n        return 'accordion';\n      }\n    };\n    // Test if item's sub is shown\n    this._isItemSubShown = item => {\n      let sub = this._getItemSubElement(item);\n      if (sub) {\n        if (this._getItemSubType(item) === 'dropdown') {\n          const subHTMLElement = sub;\n          return subHTMLElement.classList.contains('show') && subHTMLElement.hasAttribute('data-popper-placement');\n        } else {\n          return item.classList.contains('show');\n        }\n      }\n      return false;\n    };\n    // Test if item dropdown is permanent\n    this._isItemDropdownPermanent = item => {\n      return this._getItemOption(item, 'permanent') === true;\n    };\n    // Test if item's parent is shown\n    this._isItemParentShown = item => {\n      return getElementParents(item, '.menu-item.show').length > 0;\n    };\n    // Test of it is item sub element\n    this._isItemSubElement = item => {\n      return item.classList.contains('menu-sub');\n    };\n    // Test if item has sub\n    this._hasItemSub = item => {\n      return item.classList.contains('menu-item') && item.hasAttribute('data-kt-menu-trigger');\n    };\n    // Get link element\n    this._getItemLinkElement = item => {\n      return getElementChild(item, '.menu-link');\n    };\n    // Get toggle element\n    this._getItemToggleElement = item => {\n      if (this.triggerElement) {\n        return this.triggerElement;\n      }\n      return this._getItemLinkElement(item);\n    };\n    // Show item dropdown\n    this._showDropdown = item => {\n      if (EventHandlerUtil.trigger(this.element, 'kt.menu.dropdown.show') === false) {\n        return;\n      }\n\n      // Hide all currently shown dropdowns except current one\n      MenuComponent.hideDropdowns(item);\n\n      // const toggle = this._isTriggerElement(item) ? item : this._getItemLinkElement(item);\n      const sub = this._getItemSubElement(item);\n      const width = this._getItemOption(item, 'width');\n      const height = this._getItemOption(item, 'height');\n      let zindex = this.options.dropdown.zindex;\n      const parentZindex = getHighestZindex(item); // update\n      // Apply a new z-index if dropdown's toggle element or it's parent has greater z-index // update\n      if (parentZindex !== null && parentZindex >= zindex) {\n        zindex = parentZindex + 1;\n      }\n      if (zindex && sub) {\n        ElementStyleUtil.set(sub, 'z-index', zindex);\n      }\n      if (width && sub) {\n        ElementStyleUtil.set(sub, 'width', width);\n      }\n      if (height && sub) {\n        ElementStyleUtil.set(sub, 'height', height);\n      }\n      this.initDropdownPopper(item, sub);\n      item.classList.add('show');\n      item.classList.add('menu-dropdown');\n      sub === null || sub === void 0 ? void 0 : sub.classList.add('show');\n\n      // Append the sub the the root of the menu\n      if (this._getItemOption(item, 'overflow') === true) {\n        if (sub) {\n          document.body.appendChild(sub);\n          DataUtil.set(item, 'sub', sub);\n          DataUtil.set(sub, 'item', item);\n          DataUtil.set(sub, 'menu', this);\n        }\n      } else {\n        if (sub) {\n          DataUtil.set(sub, 'item', item);\n        }\n      }\n      EventHandlerUtil.trigger(this.element, 'kt.menu.dropdown.shown');\n    };\n    // Init dropdown popper(new)\n    this.initDropdownPopper = (item, sub) => {\n      // Setup popper instance\n      let reference;\n      const attach = this._getItemOption(item, 'attach');\n      if (attach) {\n        if (attach === 'parent') {\n          reference = item.parentNode;\n        } else {\n          reference = document.querySelector(attach);\n        }\n      } else {\n        reference = item;\n      }\n      if (reference) {\n        const popper = createPopper(reference, sub, this._getDropdownPopperConfig(item));\n        DataUtil.set(item, 'popper', popper);\n      }\n    };\n    // Hide item dropdown\n    this._hideDropdown = item => {\n      if (EventHandlerUtil.trigger(this.element, 'kt.menu.dropdown.hide') === false) {\n        return;\n      }\n      const sub = this._getItemSubElement(item);\n      if (sub) {\n        ElementStyleUtil.set(sub, 'z-index', '');\n        ElementStyleUtil.set(sub, 'width', '');\n        ElementStyleUtil.set(sub, 'height', '');\n      }\n      item.classList.remove('show');\n      item.classList.remove('menu-dropdown');\n      if (sub) {\n        sub.classList.remove('show');\n      }\n\n      // Append the sub back to it's parent\n      if (this._getItemOption(item, 'overflow') === true) {\n        if (item.classList.contains('menu-item')) {\n          if (sub) {\n            item.appendChild(sub);\n          }\n        } else {\n          insertAfterElement(this.element, item);\n        }\n        if (sub) {\n          DataUtil.remove(item, 'sub');\n          DataUtil.remove(sub, 'item');\n          DataUtil.remove(sub, 'menu');\n        }\n      }\n      if (DataUtil.has(item, 'popper') === true) {\n        // @ts-ignore\n        DataUtil.get(item, 'popper').destroy();\n        DataUtil.remove(item, 'popper');\n      }\n\n      // Destroy popper(new)\n      this.destroyDropdownPopper(item);\n      EventHandlerUtil.trigger(this.element, 'kt.menu.dropdown.hidden');\n    };\n    // Destroy dropdown popper(new)\n    this.destroyDropdownPopper = item => {\n      if (DataUtil.has(item, 'popper') === true) {\n        // @ts-ignore\n        DataUtil.get(item, 'popper').destroy();\n        DataUtil.remove(item, 'popper');\n      }\n      EventHandlerUtil.trigger(this.element, 'kt.menu.dropdown.hidden');\n    };\n    this._showAccordion = item => {\n      if (EventHandlerUtil.trigger(this.element, 'kt.menu.accordion.show') === false) {\n        return;\n      }\n      if (this.options.accordion.expand === false) {\n        this._hideAccordions(item);\n      }\n      if (DataUtil.has(item, 'popper') === true) {\n        this._hideDropdown(item);\n      }\n      item.classList.add('hover'); // updateWW\n      item.classList.add('showing');\n      const subElement = this._getItemSubElement(item);\n      if (subElement) {\n        const sub = subElement;\n        slideDown(sub, this.options.accordion.slideSpeed, () => {\n          item.classList.remove('showing');\n          item.classList.add('show');\n          sub.classList.add('show');\n          EventHandlerUtil.trigger(this.element, 'kt.menu.accordion.shown');\n        });\n      }\n    };\n    this._hideAccordion = item => {\n      if (EventHandlerUtil.trigger(this.element, 'kt.menu.accordion.hide') === false) {\n        return;\n      }\n      const sub = this._getItemSubElement(item);\n      item.classList.add('hiding');\n      if (sub) {\n        slideUp(sub, this.options.accordion.slideSpeed, () => {\n          item.classList.remove('hiding');\n          item.classList.remove('show');\n          sub.classList.remove('show');\n          item.classList.remove('hover'); // update\n          EventHandlerUtil.trigger(this.element, 'kt.menu.accordion.hidden');\n        });\n      }\n    };\n    // Hide all shown accordions of item\n    this._hideAccordions = item => {\n      const itemsToHide = this.element.querySelectorAll('.show[data-kt-menu-trigger]');\n      if (itemsToHide && itemsToHide.length > 0) {\n        for (var i = 0, len = itemsToHide.length; i < len; i++) {\n          const itemToHide = itemsToHide[i];\n          if (this._getItemSubType(itemToHide) === 'accordion' && itemToHide !== item && item.contains(itemToHide) === false && itemToHide.contains(item) === false) {\n            this._hideAccordion(itemToHide);\n          }\n        }\n      }\n    };\n    // Event Handlers\n    // Reset item state classes if item sub type changed\n    this._reset = item => {\n      if (this._hasItemSub(item) === false) {\n        return;\n      }\n      const sub = this._getItemSubElement(item);\n\n      // Reset sub state if sub type is changed during the window resize\n      if (DataUtil.has(item, 'type') && DataUtil.get(item, 'type') !== this._getItemSubType(item)) {\n        // updated\n        item.classList.remove('hover');\n        item.classList.remove('show');\n        item.classList.remove('show');\n        if (sub) {\n          sub.classList.remove('show');\n        }\n      } // updated\n    };\n    // TODO: not done\n    this._destroy = () => {};\n    // Update all item state classes if item sub type changed\n    this._update = () => {\n      const items = this.element.querySelectorAll('.menu-item[data-kt-menu-trigger]');\n      items.forEach(el => this._reset(el));\n    };\n    // Hide item sub\n    this._hide = item => {\n      if (!item) {\n        return;\n      }\n      if (this._isItemSubShown(item) === false) {\n        return;\n      }\n      if (this._getItemSubType(item) === 'dropdown') {\n        this._hideDropdown(item);\n      } else if (this._getItemSubType(item) === 'accordion') {\n        this._hideAccordion(item);\n      }\n    };\n    // Show item sub\n    this._show = item => {\n      if (!item) {\n        return;\n      }\n      if (this._isItemSubShown(item) === true) {\n        return;\n      }\n      if (this._getItemSubType(item) === 'dropdown') {\n        this._showDropdown(item); // // show current dropdown\n      } else if (this._getItemSubType(item) === 'accordion') {\n        this._showAccordion(item);\n      }\n\n      // Remember last submenu type\n\n      DataUtil.set(item, 'type', this._getItemSubType(item)); // updated\n    };\n    // Toggle item sub\n    this._toggle = item => {\n      if (!item) {\n        return;\n      }\n      if (this._isItemSubShown(item) === true) {\n        this._hide(item);\n      } else {\n        this._show(item);\n      }\n    };\n    // Mouseout handle\n    this._mouseout = (element, e) => {\n      const item = this._getItemElement(element);\n      if (!item) {\n        return;\n      }\n      if (this._getItemOption(item, 'trigger') !== 'hover') {\n        return;\n      }\n      const timeout = setTimeout(() => {\n        if (DataUtil.get(item, 'hover') === '1') {\n          this._hide(item);\n        }\n      }, this.options.dropdown.hoverTimeout);\n      DataUtil.set(item, 'hover', '1');\n      DataUtil.set(item, 'timeout', timeout);\n    };\n    // Mouseover handle\n    this._mouseover = (element, e) => {\n      const item = this._getItemElement(element);\n      if (!item) {\n        return;\n      }\n      if (this._getItemOption(item, 'trigger') !== 'hover') {\n        return;\n      }\n      if (DataUtil.get(item, 'hover') === '1') {\n        const timeout = DataUtil.get(item, 'timeout');\n        if (timeout) {\n          clearTimeout(timeout);\n        }\n        DataUtil.remove(item, 'hover');\n        DataUtil.remove(item, 'timeout');\n      }\n      this._show(item);\n    };\n    // Dismiss handler\n    this._dismiss = (element, e) => {\n      const item = this._getItemElement(element);\n      if (!item) {\n        return;\n      }\n      const items = this._getItemChildElements(item);\n      //if ( item !== null && _getItemOption(item, 'trigger') === 'click' &&  _getItemSubType(item) === 'dropdown' ) {\n      const itemSubType = this._getItemSubType(item);\n      if (item !== null && itemSubType === 'dropdown') {\n        this._hide(item); // hide items dropdown\n\n        // Hide all child elements as well\n        if (items.length > 0) {\n          for (let i = 0, len = items.length; i < len; i++) {\n            //if ( _getItemOption(item, 'trigger') === 'click' &&  _getItemSubType(item) === 'dropdown' ) {\n            if (items[i] !== null && this._getItemSubType(items[i]) === 'dropdown') {\n              this._hide(items[i]);\n            }\n          }\n        }\n      }\n    };\n    // Link handler\n    this._link = (element, e) => {\n      if (EventHandlerUtil.trigger(this.element, 'kt.menu.link.click') === false) {\n        return;\n      }\n\n      // Dismiss all shown dropdowns\n      MenuComponent.hideDropdowns(undefined);\n      EventHandlerUtil.trigger(this.element, 'kt.menu.link.clicked');\n    };\n    this._click = (element, e) => {\n      e.preventDefault();\n      const item = this._getItemElement(element);\n      if (item) {\n        if (this._getItemOption(item, 'trigger') !== 'click') {\n          return;\n        }\n        if (this._getItemOption(item, 'toggle') === false) {\n          this._show(item);\n        } else {\n          this._toggle(item);\n        }\n      }\n    };\n    ///////////////////////\n    // ** Public API  ** //\n    ///////////////////////\n    this.click = (element, e) => {\n      return this._click(element, e);\n    };\n    this.link = (element, e) => {\n      return this._link(element, e);\n    };\n    this.dismiss = (element, e) => {\n      return this._dismiss(element, e);\n    };\n    this.mouseover = (element, e) => {\n      return this._mouseover(element, e);\n    };\n    this.mouseout = (element, e) => {\n      return this._mouseout(element, e);\n    };\n    // General Methods\n    this.getItemTriggerType = item => {\n      return this._getItemOption(item, 'trigger');\n    };\n    this.getItemSubType = element => {\n      return this._getItemSubType(element);\n    };\n    this.show = item => {\n      return this._show(item);\n    };\n    this.hide = item => {\n      return this._hide(item);\n    };\n    this.reset = item => {\n      return this._reset(item);\n    };\n    this.update = () => {\n      return this._update();\n    };\n    this.getElement = () => {\n      return this.element;\n    };\n    this.getItemLinkElement = item => {\n      return this._getItemLinkElement(item);\n    };\n    this.getItemToggleElement = item => {\n      return this._getItemToggleElement(item);\n    };\n    this.getItemSubElement = item => {\n      return this._getItemSubElement(item);\n    };\n    this.getItemParentElements = item => {\n      return this._getItemParentElements(item);\n    };\n    this.isItemSubShown = item => {\n      return this._isItemSubShown(item);\n    };\n    this.isItemParentShown = item => {\n      return this._isItemParentShown(item);\n    };\n    this.getTriggerElement = () => {\n      return this.triggerElement;\n    };\n    this.isItemDropdownPermanent = item => {\n      return this._isItemDropdownPermanent(item);\n    };\n    // Accordion Mode Methods\n    this.hideAccordions = item => {\n      return this._hideAccordions(item);\n    };\n    // Event API\n    this.on = (name, handler) => {\n      return EventHandlerUtil.on(this.element, name, handler);\n    };\n    this.one = (name, handler) => {\n      return EventHandlerUtil.one(this.element, name, handler);\n    };\n    this.off = (name, handlerId) => {\n      return EventHandlerUtil.off(this.element, name, handlerId);\n    };\n    this.element = _element2;\n    this.options = Object.assign(defaultMenuOptions, options);\n    this.instanceUid = getUniqueIdWithPrefix('menu');\n    // this.element.setAttribute('data-kt-menu', 'true')\n    this._setTriggerElement();\n    this._update();\n    DataUtil.set(this.element, 'menu', this);\n    return this;\n  }\n}\n// public static methods\n// Get KTMenu instance by element\nMenuComponent.getInstance = element => {\n  // Element has menu DOM reference in it's DATA storage\n  const elementMenu = DataUtil.get(element, 'menu');\n  if (elementMenu) {\n    return elementMenu;\n  }\n\n  // Element has .menu parent\n  const menu = element.closest('.menu');\n  if (menu) {\n    const menuData = DataUtil.get(menu, 'menu');\n    if (menuData) {\n      return menuData;\n    }\n  }\n\n  // Element has a parent with DOM reference to .menu in it's DATA storage\n  if (element.classList.contains('menu-link')) {\n    const sub = element.closest('.menu-sub');\n    if (sub) {\n      const subMenu = DataUtil.get(sub, 'menu');\n      if (subMenu) {\n        return subMenu;\n      }\n    }\n  }\n  return null;\n};\n// Hide all dropdowns and skip one if provided\nMenuComponent.hideDropdowns = skip => {\n  const items = document.querySelectorAll('.show.menu-dropdown[data-kt-menu-trigger]');\n  if (items && items.length > 0) {\n    for (let i = 0, len = items.length; i < len; i++) {\n      const item = items[i];\n      const menu = MenuComponent.getInstance(item);\n      if (menu && menu.getItemSubType(item) === 'dropdown') {\n        if (skip) {\n          if (\n          // @ts-ignore\n          menu.getItemSubElement(item).contains(skip) === false && item.contains(skip) === false && item !== skip) {\n            menu.hide(item);\n          }\n        } else {\n          menu.hide(item);\n        }\n      }\n    }\n  }\n};\nMenuComponent.updateDropdowns = () => {\n  const items = document.querySelectorAll('.show.menu-dropdown[data-kt-menu-trigger]');\n  if (items && items.length > 0) {\n    for (var i = 0, len = items.length; i < len; i++) {\n      var item = items[i];\n      if (DataUtil.has(item, 'popper')) {\n        // @ts-ignore\n        DataUtil.get(item, 'popper').forceUpdate();\n      }\n    }\n  }\n};\n// Global handlers\nMenuComponent.createInstances = selector => {\n  // Initialize menus\n  document.querySelectorAll(selector).forEach(el => {\n    const menuItem = el;\n    let menuInstance = MenuComponent.getInstance(menuItem);\n    if (!menuInstance) {\n      menuInstance = new MenuComponent(el, defaultMenuOptions);\n    }\n  });\n};\nMenuComponent.initGlobalHandlers = () => {\n  // Dropdown handler\n  document.addEventListener('click', e => {\n    var menuItems = document.querySelectorAll('.show.menu-dropdown[data-kt-menu-trigger]:not([data-kt-menu-static=\"true\"])');\n    if (menuItems && menuItems.length > 0) {\n      for (let i = 0; i < menuItems.length; i++) {\n        const item = menuItems[i];\n        const menuObj = MenuComponent.getInstance(item);\n        if (menuObj && menuObj.getItemSubType(item) === 'dropdown') {\n          // eslint-disable-next-line @typescript-eslint/no-unused-vars\n          const menu = menuObj.getElement();\n          const sub = menuObj.getItemSubElement(item);\n          if (item === e.target || item.contains(e.target)) {\n            continue;\n          }\n          if (sub && (sub === e.target || sub.contains(e.target))) {\n            continue;\n          }\n          menuObj.hide(item);\n        }\n      }\n    }\n  });\n\n  // Sub toggle handler\n  DOMEventHandlerUtil.on(document.body, '.menu-item[data-kt-menu-trigger] > .menu-link, [data-kt-menu-trigger]:not(.menu-item):not([data-kt-menu-trigger=\"auto\"])', 'click', function (e) {\n    const menu = MenuComponent.getInstance(this);\n    if (menu) {\n      return menu.click(this, e);\n    }\n  });\n\n  // // Link handler\n  DOMEventHandlerUtil.on(document.body, '.menu-item:not([data-kt-menu-trigger]) > .menu-link', 'click', function (e) {\n    e.stopPropagation();\n    const menu = MenuComponent.getInstance(this);\n    if (menu && menu.link) {\n      return menu.link(this, e);\n    }\n  });\n\n  // Dismiss handler\n  DOMEventHandlerUtil.on(document.body, '[data-kt-menu-dismiss=\"true\"]', 'click', function (e) {\n    const menu = MenuComponent.getInstance(this);\n    if (menu) {\n      return menu.dismiss(this, e);\n    }\n  });\n\n  // Mouseover handler\n  DOMEventHandlerUtil.on(document.body, '[data-kt-menu-trigger], .menu-sub', 'mouseover', function (e) {\n    const menu = MenuComponent.getInstance(this);\n    if (menu && menu.getItemSubType(this) === 'dropdown') {\n      return menu.mouseover(this, e);\n    }\n  });\n\n  // Mouseout handler\n  DOMEventHandlerUtil.on(document.body, '[data-kt-menu-trigger], .menu-sub', 'mouseout', function (e) {\n    const menu = MenuComponent.getInstance(this);\n    if (menu && menu.getItemSubType(this) === 'dropdown') {\n      return menu.mouseout(this, e);\n    }\n  });\n\n  // Resize handler\n  window.addEventListener('resize', () => {\n    let timer;\n    throttle(timer, () => {\n      // Locate and update Drawer instances on window resize\n      const elements = document.querySelectorAll('[data-kt-menu=\"true\"]');\n      elements.forEach(el => {\n        const menu = MenuComponent.getInstance(el);\n        if (menu) {\n          menu.update();\n        }\n      });\n    }, 200);\n  });\n};\nMenuComponent.bootstrap = () => {\n  MenuComponent.initGlobalHandlers();\n  MenuComponent.createInstances('[data-kt-menu=\"true\"]');\n};\nMenuComponent.reinitialization = () => {\n  MenuComponent.createInstances('[data-kt-menu=\"true\"]');\n};\nMenuComponent.createInsance = function (selector) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultMenuOptions;\n  const element = document.body.querySelector(selector);\n  if (!element) {\n    return;\n  }\n  const item = element;\n  let menu = MenuComponent.getInstance(item);\n  if (!menu) {\n    menu = new MenuComponent(item, options);\n  }\n  return menu;\n};\nexport { MenuComponent, defaultMenuOptions };","map":{"version":3,"names":["createPopper","getElementChild","getElementParents","getAttributeValueByBreakpoint","getUniqueIdWithPrefix","DataUtil","ElementStyleUtil","EventHandlerUtil","insertAfterElement","slideUp","slideDown","DOMEventHandlerUtil","throttle","getHighestZindex","defaultMenuOptions","dropdown","hoverTimeout","zindex","accordion","slideSpeed","expand","MenuComponent","constructor","_element","options","element","instanceUid","triggerElement","_setTriggerElement","target","document","querySelector","getAttribute","closest","parentNode","child","set","_isTriggerElement","item","_getItemOption","name","value","hasAttribute","attr","String","_getItemElement","itemElement","get","sub","subItem","_getItemParentElement","parentItem","_getItemParentElements","parents","parent","i","buffer","push","unshift","_getDropdownPopperConfig","placementOption","placement","offsetValue","offset","toString","split","strategy","modifiers","flipVariations","_getItemChildElement","selector","_getItemChildElements","children","_getItemSubElement","classList","contains","has","itemSub","_getCss","el","styleProp","defaultView","ownerDocument","replace","toLowerCase","getComputedStyle","getPropertyValue","_getItemSubType","parseInt","_isItemSubShown","subHTMLElement","_isItemDropdownPermanent","_isItemParentShown","length","_isItemSubElement","_hasItemSub","_getItemLinkElement","_getItemToggleElement","_showDropdown","trigger","hideDropdowns","width","height","parentZindex","initDropdownPopper","add","body","appendChild","reference","attach","popper","_hideDropdown","remove","destroy","destroyDropdownPopper","_showAccordion","_hideAccordions","subElement","_hideAccordion","itemsToHide","querySelectorAll","len","itemToHide","_reset","_destroy","_update","items","forEach","_hide","_show","_toggle","_mouseout","e","timeout","setTimeout","_mouseover","clearTimeout","_dismiss","itemSubType","_link","undefined","_click","preventDefault","click","link","dismiss","mouseover","mouseout","getItemTriggerType","getItemSubType","show","hide","reset","update","getElement","getItemLinkElement","getItemToggleElement","getItemSubElement","getItemParentElements","isItemSubShown","isItemParentShown","getTriggerElement","isItemDropdownPermanent","hideAccordions","on","handler","one","off","handlerId","Object","assign","getInstance","elementMenu","menu","menuData","subMenu","skip","updateDropdowns","forceUpdate","createInstances","menuItem","menuInstance","initGlobalHandlers","addEventListener","menuItems","menuObj","stopPropagation","window","timer","elements","bootstrap","reinitialization","createInsance","arguments"],"sources":["E:/tappware Task/react app/GENText-FrontEnd/src/_metronic/assets/ts/components/MenuComponent.ts"],"sourcesContent":["import {createPopper, VirtualElement} from '@popperjs/core'\r\nimport {\r\n  getElementChild,\r\n  getElementParents,\r\n  getAttributeValueByBreakpoint,\r\n  getUniqueIdWithPrefix,\r\n  DataUtil,\r\n  ElementStyleUtil,\r\n  EventHandlerUtil,\r\n  insertAfterElement,\r\n  slideUp,\r\n  slideDown,\r\n  DOMEventHandlerUtil,\r\n  throttle,\r\n  getHighestZindex,\r\n} from '../_utils/index'\r\n\r\nexport interface MenuOptions {\r\n  dropdown: {\r\n    hoverTimeout: number\r\n    zindex: number\r\n  }\r\n  accordion: {\r\n    slideSpeed: number\r\n    expand: boolean\r\n  }\r\n}\r\n\r\nconst defaultMenuOptions: MenuOptions = {\r\n  dropdown: {\r\n    hoverTimeout: 200,\r\n    zindex: 105,\r\n  },\r\n  accordion: {\r\n    slideSpeed: 250,\r\n    expand: false,\r\n  },\r\n}\r\n\r\ntype PopperPlacement =\r\n  | 'right'\r\n  | 'auto'\r\n  | 'auto-start'\r\n  | 'auto-end'\r\n  | 'top'\r\n  | 'bottom'\r\n  | 'left'\r\n  | 'top-start'\r\n  | 'top-end'\r\n  | 'bottom-start'\r\n  | 'bottom-end'\r\n  | 'right-start'\r\n  | 'right-end'\r\n  | 'left-start'\r\n  | 'left-end'\r\n  | undefined\r\n\r\nclass MenuComponent {\r\n  element: HTMLElement\r\n  options: MenuOptions\r\n  instanceUid: string\r\n  triggerElement: HTMLElement | null = null\r\n\r\n  constructor(_element: HTMLElement, options: MenuOptions) {\r\n    this.element = _element\r\n    this.options = Object.assign(defaultMenuOptions, options)\r\n    this.instanceUid = getUniqueIdWithPrefix('menu')\r\n    // this.element.setAttribute('data-kt-menu', 'true')\r\n    this._setTriggerElement()\r\n    this._update()\r\n    DataUtil.set(this.element, 'menu', this)\r\n    return this\r\n  }\r\n\r\n  // Set external trigger element\r\n  private _setTriggerElement = () => {\r\n    const target = document.querySelector(\r\n      `[data-kt-menu-target=\"#${this.element.getAttribute('id')}\"`\r\n    )\r\n\r\n    if (target) {\r\n      this.triggerElement = target as HTMLElement\r\n    } else if (this.element.closest('[data-kt-menu-trigger]')) {\r\n      this.triggerElement = this.element.closest('[data-kt-menu-trigger]') as HTMLElement\r\n    } else if (\r\n      this.element.parentNode &&\r\n      getElementChild(this.element.parentNode as HTMLElement, '[data-kt-menu-trigger]')\r\n    ) {\r\n      const child = getElementChild(\r\n        this.element.parentNode as HTMLElement,\r\n        '[data-kt-menu-trigger]'\r\n      )\r\n      if (child) {\r\n        this.triggerElement = child\r\n      }\r\n    }\r\n\r\n    if (this.triggerElement) {\r\n      DataUtil.set(this.triggerElement, 'menu', this)\r\n    }\r\n  }\r\n\r\n  // Test if menu has external trigger element\r\n  private _isTriggerElement = (item: HTMLElement) => {\r\n    return this.triggerElement === item\r\n  }\r\n\r\n  // Get item option(through html attributes)\r\n  private _getItemOption = (item: HTMLElement, name: string) => {\r\n    let value: string | JSON | null | boolean = null\r\n    if (item && item.hasAttribute('data-kt-menu-' + name)) {\r\n      const attr = item.getAttribute('data-kt-menu-' + name) || ''\r\n      value = getAttributeValueByBreakpoint(attr)\r\n      if (value !== null && String(value) === 'true') {\r\n        value = true\r\n      } else if (value !== null && String(value) === 'false') {\r\n        value = false\r\n      }\r\n    }\r\n    return value\r\n  }\r\n\r\n  // Get item element\r\n  private _getItemElement = (_element: HTMLElement): HTMLElement | undefined => {\r\n    // Element is the external trigger element\r\n    if (this._isTriggerElement(_element)) {\r\n      return _element\r\n    }\r\n\r\n    // Element has item toggler attribute\r\n    if (_element.hasAttribute('data-kt-menu-trigger')) {\r\n      return _element\r\n    }\r\n\r\n    // Element has item DOM reference in it's data storage\r\n    const itemElement = DataUtil.get(_element, 'item')\r\n    if (itemElement) {\r\n      return itemElement as HTMLElement\r\n    }\r\n\r\n    // Item is parent of element\r\n    const item = _element.closest<HTMLElement>('.menu-item[data-kt-menu-trigger]')\r\n    if (item) {\r\n      return item\r\n    }\r\n\r\n    // Element's parent has item DOM reference in it's data storage\r\n    const sub = _element.closest('.menu-sub')\r\n    if (sub) {\r\n      const subItem = DataUtil.get(sub as HTMLElement, 'item')\r\n      if (subItem) {\r\n        return subItem as HTMLElement\r\n      }\r\n    }\r\n  }\r\n\r\n  // Get item parent element\r\n  private _getItemParentElement = (item: HTMLElement) => {\r\n    const sub = item.closest<HTMLElement>('.menu-sub')\r\n    if (!sub) {\r\n      return null\r\n    }\r\n\r\n    const subItem = DataUtil.get(sub, 'item')\r\n    if (subItem) {\r\n      return subItem as HTMLElement\r\n    }\r\n\r\n    const parentItem = sub.closest<HTMLElement>('.menu-item[data-kt-menu-trigger]')\r\n    if (sub && parentItem) {\r\n      return parentItem\r\n    }\r\n\r\n    return null\r\n  }\r\n\r\n  // Get item parent elements\r\n  private _getItemParentElements = (item: HTMLElement) => {\r\n    const parents: Array<HTMLElement> = []\r\n    let parent: HTMLElement | null\r\n    let i = 0\r\n    let buffer: HTMLElement = item\r\n\r\n    do {\r\n      parent = this._getItemParentElement(buffer)\r\n      if (parent) {\r\n        parents.push(parent)\r\n        buffer = parent as HTMLElement\r\n      }\r\n\r\n      i++\r\n    } while (parent !== null && i < 20)\r\n\r\n    if (this.triggerElement) {\r\n      parents.unshift(this.triggerElement)\r\n    }\r\n\r\n    return parents\r\n  }\r\n\r\n  // Prepare popper config for dropdown(see: https://popper.js.org/docs/v2/)\r\n  private _getDropdownPopperConfig = (item: HTMLElement) => {\r\n    // Placement\r\n    const placementOption = this._getItemOption(item, 'placement')\r\n    let placement: PopperPlacement = 'right'\r\n    if (placementOption) {\r\n      placement = placementOption as PopperPlacement\r\n    }\r\n\r\n    // Flip\r\n    // const flipValue = this._getItemOption(item, 'flip')\r\n    // const flip = flipValue ? flipValue.toString().split(',') : []\r\n\r\n    // Offset\r\n    const offsetValue = this._getItemOption(item, 'offset')\r\n    const offset = offsetValue ? offsetValue.toString().split(',') : []\r\n\r\n    // Strategy\r\n    const strategy: 'absolute' | 'fixed' | undefined =\r\n      this._getItemOption(item, 'overflow') === true ? 'absolute' : 'fixed'\r\n\r\n    return {\r\n      placement: placement,\r\n      strategy: strategy,\r\n      modifiers: [\r\n        {\r\n          name: 'offset',\r\n          options: {\r\n            offset: offset,\r\n          },\r\n        },\r\n        {\r\n          name: 'preventOverflow',\r\n        },\r\n        {\r\n          name: 'flip',\r\n          options: {\r\n            // altBoundary: true,\r\n            // fallbackPlacements: flip,\r\n            flipVariations: false,\r\n          },\r\n        },\r\n      ],\r\n    }\r\n  }\r\n\r\n  // Get item child element\r\n  private _getItemChildElement = (item: HTMLElement): HTMLElement | null => {\r\n    let selector = item\r\n\r\n    const subItem = DataUtil.get(item, 'sub')\r\n    if (subItem) {\r\n      selector = subItem as HTMLElement\r\n    }\r\n\r\n    if (selector) {\r\n      //element = selector.querySelector('.show.menu-item[data-kt-menu-trigger]');\r\n      const element = selector.querySelector<HTMLElement>('.menu-item[data-kt-menu-trigger]')\r\n      if (element) {\r\n        return element\r\n      }\r\n    }\r\n    return null\r\n  }\r\n\r\n  // Get item child elements\r\n  private _getItemChildElements = (item: HTMLElement) => {\r\n    const children: Array<HTMLElement> = []\r\n    let child: HTMLElement | null\r\n    let i = 0\r\n    let buffer = item\r\n    do {\r\n      child = this._getItemChildElement(buffer)\r\n      if (child) {\r\n        children.push(child)\r\n        buffer = child as HTMLElement\r\n      }\r\n\r\n      i++\r\n    } while (child !== null && i < 20)\r\n\r\n    return children\r\n  }\r\n\r\n  // Get item sub element\r\n  private _getItemSubElement = (item: HTMLElement): HTMLElement | null => {\r\n    if (!item) {\r\n      return null\r\n    }\r\n\r\n    if (this._isTriggerElement(item)) {\r\n      return this.element\r\n    }\r\n\r\n    if (item.classList.contains('menu-sub')) {\r\n      return item\r\n    } else if (DataUtil.has(item, 'sub')) {\r\n      const itemSub = DataUtil.get(item, 'sub')\r\n      return itemSub ? (itemSub as HTMLElement) : null\r\n    } else {\r\n      return getElementChild(item, '.menu-sub')\r\n    }\r\n  }\r\n\r\n  private _getCss = (el: HTMLElement, styleProp: string) => {\r\n    const defaultView = (el.ownerDocument || document).defaultView\r\n    if (!defaultView) {\r\n      return ''\r\n    }\r\n\r\n    // sanitize property name to css notation\r\n    // (hyphen separated words eg. font-Size)\r\n    styleProp = styleProp.replace(/([A-Z])/g, '-$1').toLowerCase()\r\n\r\n    return defaultView.getComputedStyle(el, null).getPropertyValue(styleProp)\r\n  }\r\n\r\n  // Get item sub type\r\n  private _getItemSubType = (element: HTMLElement) => {\r\n    const sub = this._getItemSubElement(element)\r\n    if (sub && parseInt(this._getCss(sub as HTMLElement, 'z-index')) > 0) {\r\n      return 'dropdown'\r\n    } else {\r\n      return 'accordion'\r\n    }\r\n  }\r\n\r\n  // Test if item's sub is shown\r\n  private _isItemSubShown = (item: HTMLElement) => {\r\n    let sub = this._getItemSubElement(item)\r\n    if (sub) {\r\n      if (this._getItemSubType(item) === 'dropdown') {\r\n        const subHTMLElement = sub as HTMLElement\r\n        return (\r\n          subHTMLElement.classList.contains('show') &&\r\n          subHTMLElement.hasAttribute('data-popper-placement')\r\n        )\r\n      } else {\r\n        return item.classList.contains('show')\r\n      }\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  // Test if item dropdown is permanent\r\n  private _isItemDropdownPermanent = (item: HTMLElement) => {\r\n    return this._getItemOption(item, 'permanent') === true\r\n  }\r\n\r\n  // Test if item's parent is shown\r\n  private _isItemParentShown = (item: HTMLElement) => {\r\n    return getElementParents(item, '.menu-item.show').length > 0\r\n  }\r\n\r\n  // Test of it is item sub element\r\n  private _isItemSubElement = (item: HTMLElement) => {\r\n    return item.classList.contains('menu-sub')\r\n  }\r\n\r\n  // Test if item has sub\r\n  private _hasItemSub = (item: HTMLElement) => {\r\n    return item.classList.contains('menu-item') && item.hasAttribute('data-kt-menu-trigger')\r\n  }\r\n\r\n  // Get link element\r\n  private _getItemLinkElement = (item: HTMLElement) => {\r\n    return getElementChild(item, '.menu-link')\r\n  }\r\n\r\n  // Get toggle element\r\n  private _getItemToggleElement = (item: HTMLElement) => {\r\n    if (this.triggerElement) {\r\n      return this.triggerElement\r\n    }\r\n\r\n    return this._getItemLinkElement(item)\r\n  }\r\n\r\n  // Show item dropdown\r\n  private _showDropdown = (item: HTMLElement) => {\r\n    if (EventHandlerUtil.trigger(this.element, 'kt.menu.dropdown.show') === false) {\r\n      return\r\n    }\r\n\r\n    // Hide all currently shown dropdowns except current one\r\n    MenuComponent.hideDropdowns(item)\r\n\r\n    // const toggle = this._isTriggerElement(item) ? item : this._getItemLinkElement(item);\r\n    const sub = this._getItemSubElement(item)\r\n    const width = this._getItemOption(item, 'width')\r\n    const height = this._getItemOption(item, 'height')\r\n\r\n    let zindex = this.options.dropdown.zindex\r\n    const parentZindex = getHighestZindex(item) // update\r\n    // Apply a new z-index if dropdown's toggle element or it's parent has greater z-index // update\r\n    if (parentZindex !== null && parentZindex >= zindex) {\r\n      zindex = parentZindex + 1\r\n    }\r\n\r\n    if (zindex && sub) {\r\n      ElementStyleUtil.set(sub, 'z-index', zindex)\r\n    }\r\n\r\n    if (width && sub) {\r\n      ElementStyleUtil.set(sub, 'width', width)\r\n    }\r\n\r\n    if (height && sub) {\r\n      ElementStyleUtil.set(sub, 'height', height)\r\n    }\r\n\r\n    this.initDropdownPopper(item, sub as HTMLElement)\r\n\r\n    item.classList.add('show')\r\n    item.classList.add('menu-dropdown')\r\n    sub?.classList.add('show')\r\n\r\n    // Append the sub the the root of the menu\r\n    if (this._getItemOption(item, 'overflow') === true) {\r\n      if (sub) {\r\n        document.body.appendChild(sub)\r\n        DataUtil.set(item, 'sub', sub)\r\n        DataUtil.set(sub, 'item', item)\r\n        DataUtil.set(sub, 'menu', this)\r\n      }\r\n    } else {\r\n      if (sub) {\r\n        DataUtil.set(sub, 'item', item)\r\n      }\r\n    }\r\n\r\n    EventHandlerUtil.trigger(this.element, 'kt.menu.dropdown.shown')\r\n  }\r\n\r\n  // Init dropdown popper(new)\r\n  private initDropdownPopper = (item: HTMLElement, sub: HTMLElement) => {\r\n    // Setup popper instance\r\n    let reference\r\n    const attach = this._getItemOption(item, 'attach') as string\r\n\r\n    if (attach) {\r\n      if (attach === 'parent') {\r\n        reference = item.parentNode\r\n      } else {\r\n        reference = document.querySelector(attach)\r\n      }\r\n    } else {\r\n      reference = item\r\n    }\r\n\r\n    if (reference) {\r\n      const popper = createPopper(\r\n        reference as Element | VirtualElement,\r\n        sub,\r\n        this._getDropdownPopperConfig(item)\r\n      )\r\n      DataUtil.set(item, 'popper', popper)\r\n    }\r\n  }\r\n\r\n  // Hide item dropdown\r\n  private _hideDropdown = (item: HTMLElement) => {\r\n    if (EventHandlerUtil.trigger(this.element, 'kt.menu.dropdown.hide') === false) {\r\n      return\r\n    }\r\n\r\n    const sub = this._getItemSubElement(item)\r\n    if (sub) {\r\n      ElementStyleUtil.set(sub, 'z-index', '')\r\n      ElementStyleUtil.set(sub, 'width', '')\r\n      ElementStyleUtil.set(sub, 'height', '')\r\n    }\r\n\r\n    item.classList.remove('show')\r\n    item.classList.remove('menu-dropdown')\r\n    if (sub) {\r\n      sub.classList.remove('show')\r\n    }\r\n\r\n    // Append the sub back to it's parent\r\n    if (this._getItemOption(item, 'overflow') === true) {\r\n      if (item.classList.contains('menu-item')) {\r\n        if (sub) {\r\n          item.appendChild(sub)\r\n        }\r\n      } else {\r\n        insertAfterElement(this.element, item)\r\n      }\r\n\r\n      if (sub) {\r\n        DataUtil.remove(item, 'sub')\r\n        DataUtil.remove(sub, 'item')\r\n        DataUtil.remove(sub, 'menu')\r\n      }\r\n    }\r\n\r\n    if (DataUtil.has(item, 'popper') === true) {\r\n      // @ts-ignore\r\n      DataUtil.get(item, 'popper').destroy()\r\n      DataUtil.remove(item, 'popper')\r\n    }\r\n\r\n    // Destroy popper(new)\r\n    this.destroyDropdownPopper(item)\r\n    EventHandlerUtil.trigger(this.element, 'kt.menu.dropdown.hidden')\r\n  }\r\n\r\n  // Destroy dropdown popper(new)\r\n  private destroyDropdownPopper = (item: HTMLElement) => {\r\n    if (DataUtil.has(item, 'popper') === true) {\r\n      // @ts-ignore\r\n      DataUtil.get(item, 'popper').destroy()\r\n      DataUtil.remove(item, 'popper')\r\n    }\r\n\r\n    EventHandlerUtil.trigger(this.element, 'kt.menu.dropdown.hidden')\r\n  }\r\n\r\n  private _showAccordion = (item: HTMLElement) => {\r\n    if (EventHandlerUtil.trigger(this.element, 'kt.menu.accordion.show') === false) {\r\n      return\r\n    }\r\n\r\n    if (this.options.accordion.expand === false) {\r\n      this._hideAccordions(item)\r\n    }\r\n\r\n    if (DataUtil.has(item, 'popper') === true) {\r\n      this._hideDropdown(item)\r\n    }\r\n\r\n    item.classList.add('hover') // updateWW\r\n    item.classList.add('showing')\r\n\r\n    const subElement = this._getItemSubElement(item)\r\n    if (subElement) {\r\n      const sub = subElement as HTMLElement\r\n      slideDown(sub, this.options.accordion.slideSpeed, () => {\r\n        item.classList.remove('showing')\r\n        item.classList.add('show')\r\n        sub.classList.add('show')\r\n        EventHandlerUtil.trigger(this.element, 'kt.menu.accordion.shown')\r\n      })\r\n    }\r\n  }\r\n\r\n  private _hideAccordion = (item: HTMLElement) => {\r\n    if (EventHandlerUtil.trigger(this.element, 'kt.menu.accordion.hide') === false) {\r\n      return\r\n    }\r\n\r\n    const sub = this._getItemSubElement(item)\r\n    item.classList.add('hiding')\r\n\r\n    if (sub) {\r\n      slideUp(sub, this.options.accordion.slideSpeed, () => {\r\n        item.classList.remove('hiding')\r\n        item.classList.remove('show')\r\n        sub.classList.remove('show')\r\n        item.classList.remove('hover') // update\r\n        EventHandlerUtil.trigger(this.element, 'kt.menu.accordion.hidden')\r\n      })\r\n    }\r\n  }\r\n\r\n  // Hide all shown accordions of item\r\n  private _hideAccordions = (item: HTMLElement) => {\r\n    const itemsToHide = this.element.querySelectorAll('.show[data-kt-menu-trigger]')\r\n    if (itemsToHide && itemsToHide.length > 0) {\r\n      for (var i = 0, len = itemsToHide.length; i < len; i++) {\r\n        const itemToHide = itemsToHide[i] as HTMLElement\r\n\r\n        if (\r\n          this._getItemSubType(itemToHide) === 'accordion' &&\r\n          itemToHide !== item &&\r\n          item.contains(itemToHide) === false &&\r\n          itemToHide.contains(item) === false\r\n        ) {\r\n          this._hideAccordion(itemToHide)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // Event Handlers\r\n  // Reset item state classes if item sub type changed\r\n  private _reset = (item: HTMLElement) => {\r\n    if (this._hasItemSub(item) === false) {\r\n      return\r\n    }\r\n\r\n    const sub = this._getItemSubElement(item)\r\n\r\n    // Reset sub state if sub type is changed during the window resize\r\n    if (DataUtil.has(item, 'type') && DataUtil.get(item, 'type') !== this._getItemSubType(item)) {\r\n      // updated\r\n      item.classList.remove('hover')\r\n      item.classList.remove('show')\r\n      item.classList.remove('show')\r\n      if (sub) {\r\n        sub.classList.remove('show')\r\n      }\r\n    } // updated\r\n  }\r\n\r\n  // TODO: not done\r\n  private _destroy = () => {}\r\n\r\n  // Update all item state classes if item sub type changed\r\n  private _update = () => {\r\n    const items = this.element.querySelectorAll('.menu-item[data-kt-menu-trigger]')\r\n    items.forEach((el) => this._reset(el as HTMLElement))\r\n  }\r\n\r\n  // Hide item sub\r\n  private _hide = (item: HTMLElement) => {\r\n    if (!item) {\r\n      return\r\n    }\r\n\r\n    if (this._isItemSubShown(item) === false) {\r\n      return\r\n    }\r\n\r\n    if (this._getItemSubType(item) === 'dropdown') {\r\n      this._hideDropdown(item)\r\n    } else if (this._getItemSubType(item) === 'accordion') {\r\n      this._hideAccordion(item)\r\n    }\r\n  }\r\n\r\n  // Show item sub\r\n  private _show = (item: HTMLElement) => {\r\n    if (!item) {\r\n      return\r\n    }\r\n\r\n    if (this._isItemSubShown(item) === true) {\r\n      return\r\n    }\r\n\r\n    if (this._getItemSubType(item) === 'dropdown') {\r\n      this._showDropdown(item) // // show current dropdown\r\n    } else if (this._getItemSubType(item) === 'accordion') {\r\n      this._showAccordion(item)\r\n    }\r\n\r\n    // Remember last submenu type\r\n\r\n    DataUtil.set(item, 'type', this._getItemSubType(item)) // updated\r\n  }\r\n\r\n  // Toggle item sub\r\n  private _toggle = (item: HTMLElement) => {\r\n    if (!item) {\r\n      return\r\n    }\r\n\r\n    if (this._isItemSubShown(item) === true) {\r\n      this._hide(item)\r\n    } else {\r\n      this._show(item)\r\n    }\r\n  }\r\n\r\n  // Mouseout handle\r\n  private _mouseout = (element: HTMLElement, e: MouseEvent) => {\r\n    const item = this._getItemElement(element)\r\n    if (!item) {\r\n      return\r\n    }\r\n\r\n    if (this._getItemOption(item, 'trigger') !== 'hover') {\r\n      return\r\n    }\r\n\r\n    const timeout = setTimeout(() => {\r\n      if (DataUtil.get(item, 'hover') === '1') {\r\n        this._hide(item)\r\n      }\r\n    }, this.options.dropdown.hoverTimeout)\r\n\r\n    DataUtil.set(item, 'hover', '1')\r\n    DataUtil.set(item, 'timeout', timeout)\r\n  }\r\n\r\n  // Mouseover handle\r\n  private _mouseover = (element: HTMLElement, e: MouseEvent) => {\r\n    const item = this._getItemElement(element)\r\n    if (!item) {\r\n      return\r\n    }\r\n\r\n    if (this._getItemOption(item, 'trigger') !== 'hover') {\r\n      return\r\n    }\r\n\r\n    if (DataUtil.get(item, 'hover') === '1') {\r\n      const timeout = DataUtil.get(item, 'timeout')\r\n      if (timeout) {\r\n        clearTimeout(timeout as number)\r\n      }\r\n      DataUtil.remove(item, 'hover')\r\n      DataUtil.remove(item, 'timeout')\r\n    }\r\n\r\n    this._show(item)\r\n  }\r\n\r\n  // Dismiss handler\r\n  private _dismiss = (element: HTMLElement, e: Event) => {\r\n    const item = this._getItemElement(element)\r\n    if (!item) {\r\n      return\r\n    }\r\n    const items = this._getItemChildElements(item)\r\n    //if ( item !== null && _getItemOption(item, 'trigger') === 'click' &&  _getItemSubType(item) === 'dropdown' ) {\r\n    const itemSubType = this._getItemSubType(item)\r\n    if (item !== null && itemSubType === 'dropdown') {\r\n      this._hide(item) // hide items dropdown\r\n\r\n      // Hide all child elements as well\r\n      if (items.length > 0) {\r\n        for (let i = 0, len = items.length; i < len; i++) {\r\n          //if ( _getItemOption(item, 'trigger') === 'click' &&  _getItemSubType(item) === 'dropdown' ) {\r\n          if (items[i] !== null && this._getItemSubType(items[i] as HTMLElement) === 'dropdown') {\r\n            this._hide(items[i] as HTMLElement)\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // Link handler\r\n  private _link = (element: HTMLElement, e: Event) => {\r\n    if (EventHandlerUtil.trigger(this.element, 'kt.menu.link.click') === false) {\r\n      return\r\n    }\r\n\r\n    // Dismiss all shown dropdowns\r\n    MenuComponent.hideDropdowns(undefined)\r\n    EventHandlerUtil.trigger(this.element, 'kt.menu.link.clicked')\r\n  }\r\n\r\n  private _click = (element: HTMLElement, e: Event) => {\r\n    e.preventDefault()\r\n    const item = this._getItemElement(element)\r\n    if (item) {\r\n      if (this._getItemOption(item, 'trigger') !== 'click') {\r\n        return\r\n      }\r\n\r\n      if (this._getItemOption(item, 'toggle') === false) {\r\n        this._show(item)\r\n      } else {\r\n        this._toggle(item)\r\n      }\r\n    }\r\n  }\r\n\r\n  ///////////////////////\r\n  // ** Public API  ** //\r\n  ///////////////////////\r\n  public click = (element: HTMLElement, e: Event) => {\r\n    return this._click(element, e)\r\n  }\r\n\r\n  public link = (element: HTMLElement, e: Event) => {\r\n    return this._link(element, e)\r\n  }\r\n\r\n  public dismiss = (element: HTMLElement, e: Event) => {\r\n    return this._dismiss(element, e)\r\n  }\r\n\r\n  public mouseover = (element: HTMLElement, e: Event) => {\r\n    return this._mouseover(element, e as MouseEvent)\r\n  }\r\n\r\n  public mouseout = (element: HTMLElement, e: Event) => {\r\n    return this._mouseout(element, e as MouseEvent)\r\n  }\r\n\r\n  // General Methods\r\n  public getItemTriggerType = (item: HTMLElement) => {\r\n    return this._getItemOption(item, 'trigger')\r\n  }\r\n\r\n  public getItemSubType = (element: HTMLElement) => {\r\n    return this._getItemSubType(element)\r\n  }\r\n\r\n  public show = (item: HTMLElement) => {\r\n    return this._show(item)\r\n  }\r\n\r\n  public hide = (item: HTMLElement) => {\r\n    return this._hide(item)\r\n  }\r\n\r\n  public reset = (item: HTMLElement) => {\r\n    return this._reset(item)\r\n  }\r\n\r\n  public update = () => {\r\n    return this._update()\r\n  }\r\n\r\n  public getElement = () => {\r\n    return this.element\r\n  }\r\n\r\n  public getItemLinkElement = (item: HTMLElement) => {\r\n    return this._getItemLinkElement(item)\r\n  }\r\n\r\n  public getItemToggleElement = (item: HTMLElement) => {\r\n    return this._getItemToggleElement(item)\r\n  }\r\n\r\n  public getItemSubElement = (item: HTMLElement) => {\r\n    return this._getItemSubElement(item)\r\n  }\r\n\r\n  public getItemParentElements = (item: HTMLElement) => {\r\n    return this._getItemParentElements(item)\r\n  }\r\n\r\n  public isItemSubShown = (item: HTMLElement) => {\r\n    return this._isItemSubShown(item)\r\n  }\r\n\r\n  public isItemParentShown = (item: HTMLElement) => {\r\n    return this._isItemParentShown(item)\r\n  }\r\n\r\n  public getTriggerElement = () => {\r\n    return this.triggerElement\r\n  }\r\n\r\n  public isItemDropdownPermanent = (item: HTMLElement) => {\r\n    return this._isItemDropdownPermanent(item)\r\n  }\r\n\r\n  // Accordion Mode Methods\r\n  public hideAccordions = (item: HTMLElement) => {\r\n    return this._hideAccordions(item)\r\n  }\r\n\r\n  // Event API\r\n  public on = (name: string, handler: any) => {\r\n    return EventHandlerUtil.on(this.element, name, handler)\r\n  }\r\n\r\n  public one = (name: string, handler: any) => {\r\n    return EventHandlerUtil.one(this.element, name, handler)\r\n  }\r\n\r\n  public off = (name: string, handlerId: string) => {\r\n    return EventHandlerUtil.off(this.element, name, handlerId)\r\n  }\r\n\r\n  // public static methods\r\n  // Get KTMenu instance by element\r\n  public static getInstance = (element: HTMLElement): MenuComponent | null => {\r\n    // Element has menu DOM reference in it's DATA storage\r\n    const elementMenu = DataUtil.get(element, 'menu')\r\n    if (elementMenu) {\r\n      return elementMenu as MenuComponent\r\n    }\r\n\r\n    // Element has .menu parent\r\n    const menu = element.closest('.menu')\r\n    if (menu) {\r\n      const menuData = DataUtil.get(menu as HTMLElement, 'menu')\r\n      if (menuData) {\r\n        return menuData as MenuComponent\r\n      }\r\n    }\r\n\r\n    // Element has a parent with DOM reference to .menu in it's DATA storage\r\n    if (element.classList.contains('menu-link')) {\r\n      const sub = element.closest('.menu-sub')\r\n      if (sub) {\r\n        const subMenu = DataUtil.get(sub as HTMLElement, 'menu')\r\n        if (subMenu) {\r\n          return subMenu as MenuComponent\r\n        }\r\n      }\r\n    }\r\n\r\n    return null\r\n  }\r\n\r\n  // Hide all dropdowns and skip one if provided\r\n  public static hideDropdowns = (skip: HTMLElement | undefined) => {\r\n    const items = document.querySelectorAll<HTMLElement>(\r\n      '.show.menu-dropdown[data-kt-menu-trigger]'\r\n    )\r\n\r\n    if (items && items.length > 0) {\r\n      for (let i = 0, len = items.length; i < len; i++) {\r\n        const item = items[i]\r\n        const menu = MenuComponent.getInstance(item as HTMLElement)\r\n\r\n        if (menu && menu.getItemSubType(item) === 'dropdown') {\r\n          if (skip) {\r\n            if (\r\n              // @ts-ignore\r\n              menu.getItemSubElement(item).contains(skip) === false &&\r\n              item.contains(skip) === false &&\r\n              item !== skip\r\n            ) {\r\n              menu.hide(item)\r\n            }\r\n          } else {\r\n            menu.hide(item)\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public static updateDropdowns = () => {\r\n    const items = document.querySelectorAll('.show.menu-dropdown[data-kt-menu-trigger]')\r\n    if (items && items.length > 0) {\r\n      for (var i = 0, len = items.length; i < len; i++) {\r\n        var item = items[i]\r\n\r\n        if (DataUtil.has(item as HTMLElement, 'popper')) {\r\n          // @ts-ignore\r\n          DataUtil.get(item as HTMLElement, 'popper').forceUpdate()\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // Global handlers\r\n  public static createInstances = (selector: string) => {\r\n    // Initialize menus\r\n    document.querySelectorAll(selector).forEach((el) => {\r\n      const menuItem = el as HTMLElement\r\n      let menuInstance = MenuComponent.getInstance(menuItem)\r\n      if (!menuInstance) {\r\n        menuInstance = new MenuComponent(el as HTMLElement, defaultMenuOptions)\r\n      }\r\n    })\r\n  }\r\n\r\n  public static initGlobalHandlers = () => {\r\n    // Dropdown handler\r\n    document.addEventListener('click', (e) => {\r\n      var menuItems = document.querySelectorAll(\r\n        '.show.menu-dropdown[data-kt-menu-trigger]:not([data-kt-menu-static=\"true\"])'\r\n      )\r\n      if (menuItems && menuItems.length > 0) {\r\n        for (let i = 0; i < menuItems.length; i++) {\r\n          const item = menuItems[i] as HTMLElement\r\n          const menuObj = MenuComponent.getInstance(item) as MenuComponent\r\n          if (menuObj && menuObj.getItemSubType(item) === 'dropdown') {\r\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n            const menu = menuObj.getElement()\r\n            const sub = menuObj.getItemSubElement(item) as HTMLElement\r\n            if (item === e.target || item.contains(e.target as HTMLElement)) {\r\n              continue\r\n            }\r\n\r\n            if (sub && (sub === e.target || sub.contains(e.target as HTMLElement))) {\r\n              continue\r\n            }\r\n            menuObj.hide(item)\r\n          }\r\n        }\r\n      }\r\n    })\r\n\r\n    // Sub toggle handler\r\n    DOMEventHandlerUtil.on(\r\n      document.body,\r\n      '.menu-item[data-kt-menu-trigger] > .menu-link, [data-kt-menu-trigger]:not(.menu-item):not([data-kt-menu-trigger=\"auto\"])',\r\n      'click',\r\n      function (this: HTMLElement, e: Event) {\r\n        const menu = MenuComponent.getInstance(this) as MenuComponent\r\n        if (menu) {\r\n          return menu.click(this, e)\r\n        }\r\n      }\r\n    )\r\n\r\n    // // Link handler\r\n    DOMEventHandlerUtil.on(\r\n      document.body,\r\n      '.menu-item:not([data-kt-menu-trigger]) > .menu-link',\r\n      'click',\r\n      function (this: HTMLElement, e: Event) {\r\n        e.stopPropagation()\r\n        const menu = MenuComponent.getInstance(this)\r\n        if (menu && menu.link) {\r\n          return menu.link(this, e)\r\n        }\r\n      }\r\n    )\r\n\r\n    // Dismiss handler\r\n    DOMEventHandlerUtil.on(\r\n      document.body,\r\n      '[data-kt-menu-dismiss=\"true\"]',\r\n      'click',\r\n      function (this: HTMLElement, e: Event) {\r\n        const menu = MenuComponent.getInstance(this) as MenuComponent\r\n        if (menu) {\r\n          return menu.dismiss(this, e)\r\n        }\r\n      }\r\n    )\r\n\r\n    // Mouseover handler\r\n    DOMEventHandlerUtil.on(\r\n      document.body,\r\n      '[data-kt-menu-trigger], .menu-sub',\r\n      'mouseover',\r\n      function (this: HTMLElement, e: Event) {\r\n        const menu = MenuComponent.getInstance(this) as MenuComponent\r\n        if (menu && menu.getItemSubType(this) === 'dropdown') {\r\n          return menu.mouseover(this, e)\r\n        }\r\n      }\r\n    )\r\n\r\n    // Mouseout handler\r\n    DOMEventHandlerUtil.on(\r\n      document.body,\r\n      '[data-kt-menu-trigger], .menu-sub',\r\n      'mouseout',\r\n      function (this: HTMLElement, e: Event) {\r\n        const menu = MenuComponent.getInstance(this) as MenuComponent\r\n        if (menu && menu.getItemSubType(this) === 'dropdown') {\r\n          return menu.mouseout(this, e)\r\n        }\r\n      }\r\n    )\r\n\r\n    // Resize handler\r\n    window.addEventListener('resize', () => {\r\n      let timer\r\n      throttle(\r\n        timer,\r\n        () => {\r\n          // Locate and update Drawer instances on window resize\r\n          const elements = document.querySelectorAll('[data-kt-menu=\"true\"]')\r\n          elements.forEach((el) => {\r\n            const menu = MenuComponent.getInstance(el as HTMLElement)\r\n            if (menu) {\r\n              menu.update()\r\n            }\r\n          })\r\n        },\r\n        200\r\n      )\r\n    })\r\n  }\r\n\r\n  public static bootstrap = () => {\r\n    MenuComponent.initGlobalHandlers()\r\n    MenuComponent.createInstances('[data-kt-menu=\"true\"]')\r\n  }\r\n\r\n  public static reinitialization = () => {\r\n    MenuComponent.createInstances('[data-kt-menu=\"true\"]')\r\n  }\r\n\r\n  public static createInsance = (\r\n    selector: string,\r\n    options: MenuOptions = defaultMenuOptions\r\n  ): MenuComponent | undefined => {\r\n    const element = document.body.querySelector(selector)\r\n    if (!element) {\r\n      return\r\n    }\r\n    const item = element as HTMLElement\r\n    let menu = MenuComponent.getInstance(item)\r\n    if (!menu) {\r\n      menu = new MenuComponent(item, options)\r\n    }\r\n    return menu\r\n  }\r\n}\r\n\r\nexport {MenuComponent, defaultMenuOptions}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
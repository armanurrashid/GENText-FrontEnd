{"ast":null,"code":"import { DOMEventHandlerUtil } from './_DOMEventHandlerUtil';\nimport { ElementStyleUtil } from './_ElementStyleUtil';\nimport { getElementOffset } from './DomHelpers';\nexport class ElementAnimateUtil {\n  static animate(from, to, duration, update, complete) {\n    /**\n     * TinyAnimate.easings\n     *  Adapted from jQuery Easing\n     */\n    const easings = {\n      linear: function (t, b, c, d) {\n        return c * t / d + b;\n      }\n    };\n\n    // Create mock done() function if necessary\n    if (!complete) {\n      complete = function () {};\n    }\n\n    // Animation loop\n    // let canceled = false;\n    const change = to - from;\n    function loop(timestamp) {\n      var time = (timestamp || +new Date()) - start;\n      if (time >= 0) {\n        update(easings.linear(time, from, change, duration));\n      }\n      if (time >= 0 && time >= duration) {\n        update(to);\n        if (complete) {\n          complete();\n        }\n      } else {\n        window.requestAnimationFrame(loop);\n      }\n    }\n    update(from);\n\n    // Start animation loop\n    const start = window.performance && window.performance.now ? window.performance.now() : +new Date();\n    window.requestAnimationFrame(loop);\n  }\n  static animateClass(element, animationName, callBack) {\n    const animateClasses = animationName.split(' ');\n    animateClasses.forEach(cssClass => element.classList.add(cssClass));\n    DOMEventHandlerUtil.one(element, 'animationend', function () {\n      animateClasses.forEach(cssClass => element.classList.remove(cssClass));\n    });\n    if (callBack) {\n      DOMEventHandlerUtil.one(element, 'animationend', callBack);\n    }\n  }\n  static transitionEnd(element, callBack) {\n    DOMEventHandlerUtil.one(element, 'transitionend', callBack);\n  }\n  static animationEnd(element, callBack) {\n    DOMEventHandlerUtil.one(element, 'animationend', callBack);\n  }\n  static animationDelay(element, value) {\n    ElementStyleUtil.set(element, 'animation-delay', value);\n  }\n  static animationDuration(element, value) {\n    ElementStyleUtil.set(element, 'animation-duration', value);\n  }\n  static scrollTo(element, offset) {\n    let duration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 500;\n    let targetPos = element ? getElementOffset(element).top : 0;\n    let scrollPos = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n    if (offset) {\n      scrollPos += offset;\n      targetPos = targetPos - offset;\n    }\n    const from = scrollPos;\n    const to = targetPos;\n    ElementAnimateUtil.animate(from, to, duration, function (value) {\n      document.documentElement.scrollTop = value;\n      // document.body.parentNode.scrollTop = value;\n      document.body.scrollTop = value;\n    }); //, easing, done\n  }\n\n  static scrollTop(offset, duration) {\n    ElementAnimateUtil.scrollTo(null, offset, duration);\n  }\n}","map":{"version":3,"names":["DOMEventHandlerUtil","ElementStyleUtil","getElementOffset","ElementAnimateUtil","animate","from","to","duration","update","complete","easings","linear","t","b","c","d","change","loop","timestamp","time","Date","start","window","requestAnimationFrame","performance","now","animateClass","element","animationName","callBack","animateClasses","split","forEach","cssClass","classList","add","one","remove","transitionEnd","animationEnd","animationDelay","value","set","animationDuration","scrollTo","offset","arguments","length","undefined","targetPos","top","scrollPos","pageYOffset","document","documentElement","scrollTop","body"],"sources":["E:/GENText/src/_metronic/assets/ts/_utils/ElementAnimateUtil.ts"],"sourcesContent":["import {DOMEventHandlerUtil} from './_DOMEventHandlerUtil'\nimport {ElementStyleUtil} from './_ElementStyleUtil'\nimport {getElementOffset} from './DomHelpers'\n\nexport class ElementAnimateUtil {\n  public static animate(\n    from: number,\n    to: number,\n    duration: number,\n    update: Function,\n    complete?: Function\n  ) {\n    /**\n     * TinyAnimate.easings\n     *  Adapted from jQuery Easing\n     */\n    const easings = {\n      linear: function (t: number, b: number, c: number, d: number) {\n        return (c * t) / d + b\n      },\n    }\n\n    // Create mock done() function if necessary\n    if (!complete) {\n      complete = function () {}\n    }\n\n    // Animation loop\n    // let canceled = false;\n    const change = to - from\n\n    function loop(timestamp: number) {\n      var time = (timestamp || +new Date()) - start\n\n      if (time >= 0) {\n        update(easings.linear(time, from, change, duration))\n      }\n      if (time >= 0 && time >= duration) {\n        update(to)\n        if (complete) {\n          complete()\n        }\n      } else {\n        window.requestAnimationFrame(loop)\n      }\n    }\n\n    update(from)\n\n    // Start animation loop\n    const start =\n      window.performance && window.performance.now ? window.performance.now() : +new Date()\n\n    window.requestAnimationFrame(loop)\n  }\n\n  public static animateClass(\n    element: HTMLElement,\n    animationName: string,\n    callBack?: Function\n  ): void {\n    const animateClasses = animationName.split(' ')\n    animateClasses.forEach((cssClass) => element.classList.add(cssClass))\n    DOMEventHandlerUtil.one(element, 'animationend', function () {\n      animateClasses.forEach((cssClass) => element.classList.remove(cssClass))\n    })\n\n    if (callBack) {\n      DOMEventHandlerUtil.one(element, 'animationend', callBack)\n    }\n  }\n\n  public static transitionEnd(element: HTMLElement, callBack: Function) {\n    DOMEventHandlerUtil.one(element, 'transitionend', callBack)\n  }\n\n  public static animationEnd(element: HTMLElement, callBack: Function) {\n    DOMEventHandlerUtil.one(element, 'animationend', callBack)\n  }\n\n  public static animationDelay(element: HTMLElement, value: string) {\n    ElementStyleUtil.set(element, 'animation-delay', value)\n  }\n\n  public static animationDuration(element: HTMLElement, value: string) {\n    ElementStyleUtil.set(element, 'animation-duration', value)\n  }\n\n  public static scrollTo(element: HTMLElement | null, offset: number, duration: number = 500) {\n    let targetPos = element ? getElementOffset(element).top : 0\n    let scrollPos =\n      window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0\n\n    if (offset) {\n      scrollPos += offset\n      targetPos = targetPos - offset\n    }\n\n    const from = scrollPos\n    const to = targetPos\n\n    ElementAnimateUtil.animate(from, to, duration, function (value: number) {\n      document.documentElement.scrollTop = value\n      // document.body.parentNode.scrollTop = value;\n      document.body.scrollTop = value\n    }) //, easing, done\n  }\n  public static scrollTop(offset: number, duration: number) {\n    ElementAnimateUtil.scrollTo(null, offset, duration)\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}